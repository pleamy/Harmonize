// START ONCE FUNCTIONING CODE

// function showPlaylistData(playlists) {  
// 	
// 	var genre
// 	var playlist_list = playlists.items;
// 	var playlist_count = playlists.total;
// 	
// 	
// 	$(playlist_list).each(function(i){
// 		playlist_id = playlist_list[i].id;
// 		
// 		if (playlist_list[i].public) {
// 					console.log(playlist_list[i]);
// 
// 		
// 		fetchPlaylistItems(playlist_id, function(data) {
// 		    if (data) {
// 				// console.log(data);	
// 				
// 				
// 				var playlist_data = data.items;
// 		
// 				
// 				// $(playlist_data).each(function(i){
// 				// 	
// 				// 	var spotify_artist_id = playlist_data[i].track.artists[0].id;
// 				// 	var echonest = "http://developer.echonest.com/api/v4/artist/profile?api_key=V67QTPVRZDSNCC4AW&id=spotify:artist:" + spotify_artist_id + "&bucket=genre";
// 				// 	  
// 				// 	$.getJSON( echonest, {
// 				// 	    format: "json"
// 				// 	  })
// 				// 	    .done(function(data) {
// 				// 		genre = data.response.artist.genres;
// 				// 
// 				// 			$(genre).each(function(i){
// 				// 
// 				// 				 genreList.push(genre[i].name);
// 				// 
// 				// 
// 				// 			                        // update Map
// 				// 			                        if (Map[genre[i].name] == undefined) {
// 				// 			                            Map[genre[i].name] = 1;
// 				// 			                            mapSize++;
// 				// 			                        }
// 				// 			                        else {
// 				// 			                            Map[genre[i].name]++;
// 				// 			                        }
// 				// 				var radius = Map[genre[i].name];
// 				// 
// 				// 				// console.log(radius);
// 				// 				// console.log(Map.length); 
// 				// 				nodes.push( {name: genre[i].name, r: radius/10, x: 800 / 2 + offset(), y: 800 / 2 + offset(), color: colors(1)});
// 				// 				// d3_data.push();
// 				// 			});
// 				// 
// 				// 			function offset() {
// 				// 			        return Math.random() * 100;
// 				// 			}
// 				// 		});
// 				// });
// 				
// 				
// 			} else {
// 		            		error("Trouble getting your tracks");
// 		        	}	
// 			
// 			
// 		});
// 
// 	});
					
	 // if (playlists.next) { // If there's more, repeat
	 //        callSpotify(playlists.next, trackFields_2, function(playlists) {
	 //            showPlaylistData(playlists);
	 //        });
	 // }
	 // 							}

// END ONCE FUNCTIONING CODE